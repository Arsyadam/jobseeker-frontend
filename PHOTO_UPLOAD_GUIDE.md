# ðŸ“¸ Profile Photo Upload - Quick Start Guide

## Where to Find It

Navigate to: **`http://localhost:3000/profile`**

The profile photo upload feature is located in the **Profile Page** under the **Personal Info** tab.

## Visual Location

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Profile Page                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ Personal Info    â”‚ Professional     â”‚  â† Tabs       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ Basic Information                   â”‚               â”‚
â”‚  â”‚  - First Name, Last Name            â”‚               â”‚
â”‚  â”‚  - Phone, Location, Bio             â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚ Profile Photo                    â† NEW!             â”‚
â”‚  â”‚  Upload or update your profile picture              â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â”‚
â”‚  â”‚                                     â”‚               â”‚
â”‚  â”‚  [Preview Image]                    â”‚               â”‚
â”‚  â”‚                                     â”‚               â”‚
â”‚  â”‚  [Choose File]  [Upload]            â”‚               â”‚
â”‚  â”‚  [Delete Photo]                     â”‚               â”‚
â”‚  â”‚                                     â”‚               â”‚
â”‚  â”‚  Formats: JPEG, PNG, GIF, WebP      â”‚               â”‚
â”‚  â”‚  Max size: 5MB â€¢ Optimal: 500x500px â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Usage Flow

### ðŸŽ¯ Uploading a Photo

1. **Navigate to Profile**

   ```
   Click: Profile â†’ Personal Info tab
   ```

2. **Select Photo**

   ```
   Click: [Choose File] button
   Select: Image file from your computer
   ```

3. **Preview**

   ```
   âœ“ Preview appears automatically
   âœ“ Shows selected image before upload
   ```

4. **Upload**
   ```
   Click: [Upload] button
   Wait: Progress indicator shows
   Success: Toast notification appears
   Result: Photo updates in profile + sidebar
   ```

### ðŸ—‘ï¸ Deleting a Photo

1. **Delete Button**
   ```
   Click: [Delete Photo] button (red)
   Confirm: Photo is removed
   Success: Toast notification appears
   ```

## What Happens Behind the Scenes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Browser    â”‚ â”€â”€â”€â”€â”€â”€> â”‚   Backend    â”‚ â”€â”€â”€â”€â”€â”€> â”‚  Cloudinary  â”‚
â”‚  (Frontend)  â”‚         â”‚   API Server â”‚         â”‚   (Cloud)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                        â”‚                        â”‚
       â”‚ 1. Select file         â”‚                        â”‚
       â”‚ 2. Validate (5MB)      â”‚                        â”‚
       â”‚ 3. Show preview        â”‚                        â”‚
       â”‚                        â”‚                        â”‚
       â”‚ 4. POST /profile/photo â”‚                        â”‚
       â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚                        â”‚
       â”‚                        â”‚ 5. Upload to Cloudinaryâ”‚
       â”‚                        â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€> â”‚
       â”‚                        â”‚                        â”‚
       â”‚                        â”‚ 6. Optimize & resize   â”‚
       â”‚                        â”‚ <- (500x500, face crop)â”‚
       â”‚                        â”‚                        â”‚
       â”‚                        â”‚ 7. Get secure URL      â”‚
       â”‚                        â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
       â”‚                        â”‚                        â”‚
       â”‚ 8. Save URL to DB      â”‚                        â”‚
       â”‚    (Prisma/PostgreSQL) â”‚                        â”‚
       â”‚                        â”‚                        â”‚
       â”‚ 9. Return response     â”‚                        â”‚
       â”‚ <â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚                        â”‚
       â”‚                        â”‚                        â”‚
       â”‚ 10. Update UI          â”‚                        â”‚
       â”‚     Show toast         â”‚                        â”‚
       â”‚     Refresh avatar     â”‚                        â”‚
```

## Features

### âœ… Validation

- File type: JPEG, PNG, GIF, WebP
- Max size: 5MB
- Client-side + server-side validation

### âœ… Optimization

- Auto-resize to 500x500px
- Face detection for smart cropping
- Thumbnail generation (150x150px)
- CDN delivery for fast loading

### âœ… User Experience

- Real-time preview
- Loading indicators
- Success/error messages
- Profile completion tracking

## Examples

### Before Upload

```
Profile Picture: [Default Avatar with Initials]
Profile Completion: 65%
```

### After Upload

```
Profile Picture: [Your Photo - Optimized 500x500px]
Profile Completion: 75% (+10%)
Toast: "âœ“ Profile photo uploaded! Profile is now 75% complete."
```

### After Delete

```
Profile Picture: [Back to Default Avatar]
Profile Completion: 65% (-10%)
Toast: "âœ“ Profile photo deleted. Profile is now 65% complete."
```

## Troubleshooting

### âŒ "Unauthorized" Error

**Solution**: Make sure you're logged in. Check JWT token exists.

```javascript
localStorage.getItem("auth_token"); // Should return a token
```

### âŒ "File too large" Error

**Solution**: Reduce image size to under 5MB

- Use online tools: tinypng.com, compressor.io
- Or use image editor: reduce dimensions or quality

### âŒ "Invalid file type" Error

**Solution**: Convert image to supported format

- Supported: .jpg, .jpeg, .png, .gif, .webp
- Not supported: .bmp, .tiff, .svg, .ico

### âŒ Upload button stays disabled

**Solution**: Make sure a file is selected

- Check if file input has a value
- Try selecting the file again

### âŒ Network error / API not responding

**Solution**: Check backend is running

```bash
# Backend should be running on port 3131
curl http://localhost:3131/api/health
```

## API Testing

Test the API directly with curl:

```bash
# Get your token from localStorage first
TOKEN="your-jwt-token-here"

# Upload photo
curl -X POST http://localhost:3131/api/profile/photo \
  -H "Authorization: Bearer $TOKEN" \
  -F "photo=@/path/to/image.jpg"

# Delete photo
curl -X DELETE http://localhost:3131/api/profile/photo \
  -H "Authorization: Bearer $TOKEN"
```

## Tech Stack

- **Frontend**: Next.js 14, React, TypeScript, TailwindCSS
- **UI Components**: shadcn/ui
- **Backend**: Node.js, Express, Prisma
- **Storage**: Cloudinary (cloud-based CDN)
- **Database**: PostgreSQL

## File Locations

```
jobseeker-frontend/
â”œâ”€â”€ components/
â”‚   â””â”€â”€ ProfilePhotoUpload.tsx          â† Main component
â”œâ”€â”€ app/
â”‚   â””â”€â”€ profile/
â”‚       â””â”€â”€ page.tsx                     â† Integration page
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ api.ts                           â† API methods
â”œâ”€â”€ .env.local                           â† Configuration
â””â”€â”€ CLOUDINARY_INTEGRATION.md            â† Full docs
```

---

**Ready to test?**

1. Start backend: `cd jobseeker-backend && npm run dev`
2. Start frontend: `cd jobseeker-frontend && npm run dev`
3. Navigate to: `http://localhost:3000/profile`
4. Click: Personal Info â†’ Profile Photo section
5. Upload your first photo! ðŸ“¸
